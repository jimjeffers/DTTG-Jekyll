<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Ruby: Creating destructive methods. | DontTrustThisGuy.com</title>
    <meta name="description" content="The personal blog of Jim Jeffers.">
    <meta name="keywords"    content="Jim Jeffers, blog">
    
    <!-- Please don't add "maximum-scale=1" here. It's bad for accessibility. -->
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    
    <!-- <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png"> -->
    
    <link href="/stylesheets/normalize.css" media="screen, projection" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/print.css" media="print" rel="stylesheet" type="text/css" />
    
    <script src="/javascripts/modernizr.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js"></script>
    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3186798-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

    <script type="text/javascript" src="http://use.typekit.com/knj2eit.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  </head>

  <body>
    <div id="content">
      <article id="post">
  <header class="row">
      <time datetime="2005-12-30" pubdate="pubdate">December 30, 2005</time>
      <h1><a href="2005/12/30/ruby-creating-destructive-methods" title="Permalink for Ruby: Creating destructive methods.">Ruby: Creating destructive methods.</a></h1>
  </header>

  <section id="content">
    <p>Here's a basic example of using Ruby to create a class with destructive methods.  Though this is not as practical as just typing the actual mathematic operations themselves.  It does illustrate how destructive functions work and how to write them.  Note the 'return self' in each of the destructive methods.  This allows you to perform the method chains, without it the method returns a fixnum by default and the method chaining raises an error.  <strong>If anyone knows of a DRY way to perform this let me know.</strong></p>
<pre name="code" class="ruby">
class Calculator

  def initialize(value)
    @value = value
  end

  def multiply!(value)
    @value *= value
    return self
  end

  def add!(value)
    @value += value
    return self
  end

  def clear!
    @value = 0
    return self
  end

  def calculate
    puts @value
  end

end

c = Calculator.new(10)
c.add!(2).multiply!(4).calculate #=> 48
c.clear!.add!(5).multiply!(4).calculate #=> 20
</pre>

  </section>
</article>

    </div>
  
    <footer>
      <p><a href="http://donttrustthisguy.com">DontTrustThisGuy.com</a> is authored by Jim Jeffers, a twenty-something web consultant currently residing in Phoenix, AZ. You will find random ramblings, discussions on web technologies, user interface design, programming, business, politics, and anything else that crosses his mind here.</p>
      <p>All content and images &copy; 2005-2012 <a href="http://jimjeffers.com">Jim Jeffers</a>.</p>
    </footer>
    <script src="/javascripts/application.js"></script>
  </body>
</html>
